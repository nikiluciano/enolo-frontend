<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" >
      <ion-menu-button class="style-burger" ></ion-menu-button>
    </ion-buttons>
    <ion-item lines="none" color="police-blue">
      <ion-label class="title-home">Home</ion-label>
      <ion-button [routerLink]="['/user-account']" fill="clear">
        <ion-icon name="person-circle-outline" slot="end" class="style-button"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-toolbar>

</ion-header>
<ion-content>
 
  <ion-refresher slot="fixed" pullFactor="0.5" pullMin="100" pullMax="200" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <div *ngIf="contentLoaded">
  <ion-grid class="gridstyle">
    <ion-col>
    
      <ion-row>
        <ion-label class="style-title-c">Conferimenti attivi</ion-label>
      </ion-row>

      <div *ngIf="pandingConferments.length==0" lines="none" border-lines="none">
       <ion-label class="card-conf-style">Nessun conferimento attivo</ion-label>
       <ion-button fill="clear" [routerLink]="['/load']" class="butt-conf-style">Effettua un nuovo conferimento!</ion-button>
        
      </div>
      <ion-card *ngIf="pandingConferments.length>1">
      <ion-slides pager="true" [options]="slideOpts" class="style-c">
        <ion-slide *ngFor="let i of pandingConferments">
          <ion-col>
            <ion-row class="style-row-title">
              <ion-label class="title-c"> In {{i.current_process}} </ion-label>
            </ion-row>
            <ion-row>
              <ion-progress-bar  class="bar-c" [value]="progress"></ion-progress-bar>
            </ion-row>
            <ion-row>
              <ion-col class="weight-col-style">
                <ion-label class="style-labs-peso">{{i.quantity}}<sub class="style-kg"> kg</sub></ion-label>
              </ion-col>

              <ion-col class="wine-type-col-style">
                <ion-label class="style-labs-c">{{i.typology}}</ion-label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col class="down-col-style">
                <ion-item lines="none" class="ion-no-padding">
                  <ion-icon name="calendar-outline" class="icon-style"></ion-icon>
                  <ion-label class="calendar-label-style">{{i.date | date: 'dd-MM-yyyy'}}</ion-label>
                </ion-item>
              </ion-col>

              <ion-col class="supplier-col-style">
                <ion-item class="ion-no-padding" lines="none">
                  <ion-label class="style-labs-f" slot="end">{{i.supplier}}</ion-label>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-slide>
      </ion-slides>
      </ion-card>
    </ion-col>

    <ion-row class="row-warehouse">
      <ion-col>
       <ion-row class="row-style-warehouse">
          <ion-label class="title-warehouse">Il tuo magazzino</ion-label>
        </ion-row>

        <div *ngIf="warehouse.caps_quantity.length==0 && warehouse.bottles.bottles_quantity.length==0 && warehouse.tags_quantity.length==0==0"> 
          <ion-label class="card-conf-style">OPS! il tuo magazzino e' vuoto</ion-label>
          <ion-button fill="clear" [routerLink]="['/warehouse']" class="butt-conf-style">Gestisci qui il tuo magazzino!</ion-button>
        </div>
        <div *ngIf=" warehouse.caps_quantity <= 25">
          <ion-row class="row-style-warehouse">
            <ion-label class="title-bar-warehouse" >{{warehouse.caps_quantity}} Tappi</ion-label>
            <ion-icon name="alert-circle-outline" color="danger"></ion-icon>
          </ion-row>
        </div>
        <ion-row class="row-style-warehouse" *ngIf="warehouse.caps_quantity > 25">
          <ion-label class="title-bar-warehouse" >{{warehouse.caps_quantity}} Tappi</ion-label>
        </ion-row>
        <ion-row class="row-style-warehouse">
          <ion-progress-bar class="bar-caps" type="determinate"></ion-progress-bar>
        </ion-row>

        <div *ngIf=" warehouse.bottles.bottles_quantity <= 25">
          <ion-row class="row-style-warehouse">
            <ion-label class="title-bar-warehouse" >{{warehouse.bottles.bottles_quantity}} Tappi</ion-label>
            <ion-icon name="alert-circle-outline" color="danger" ></ion-icon>
          </ion-row>
        </div>
        <ion-row class="row-style-warehouse"  *ngIf=" warehouse.bottles.bottles_quantity > 25">
          <ion-label class="title-bar-warehouse"> {{warehouse.bottles.bottles_quantity}} Bottiglie</ion-label>
        </ion-row>
        <ion-row class="row-style-warehouse">
          <ion-progress-bar value="0.50" class="bar-bottle"></ion-progress-bar>
        </ion-row>


        <div *ngIf=" warehouse.tags_quantity <= 25">
          <ion-row class="row-style-warehouse">
            <ion-label class="title-bar-warehouse">{{warehouse.tags_quantity}} Tappi</ion-label>
            <ion-icon name="alert-circle-outline" color="danger" ></ion-icon>
          </ion-row>
        </div>
        <ion-row class="row-style-warehouse" *ngIf=" warehouse.tags_quantity > 25">
          <ion-label class="title-bar-warehouse"> {{warehouse.tags_quantity}} Etichette</ion-label>
        </ion-row>
        <ion-row class="row-style-warehouse">
          <ion-progress-bar value="0.75" class="bar-labels"></ion-progress-bar>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>
</div>
</ion-content>